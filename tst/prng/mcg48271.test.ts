import { suite } from 'uvu';
import * as assert from 'uvu/assert';
import { mcg48271 } from '../../src/prng/lcg';

const tsts = suite('mcg48271');
//https://oeis.org/A221556/b221556.txt
const seq: number[] = [
	48271, 182605794, 1291394886, 1914720637, 2078669041, 407355683, 1105902161,
	854716505, 564586691, 1596680831, 192302371, 1203428207, 1250328747,
	1738531149, 1271135913, 1098894339, 1882556969, 2136927794, 1559527823,
	2075782095, 638022372, 914937185, 1931656580, 1402304087, 1936030137,
	2064876628, 353718330, 1842513780, 1947433875, 631416347, 2010567813,
	890442452, 662405787, 1105724094, 849178936, 1696049367, 1479919876,
	1168816941, 1272185027, 201068705, 1308858262, 928270262, 1287522347,
	1814467857, 1057382352, 1659675143, 153892771, 412013968, 480194461,
	1675824860, 180318217, 389431516, 1324346645, 1243696899, 1587659744,
	674592135, 942409124, 884730203, 1951824771, 2130959757, 1239222494,
	352020689, 1500063655, 719080959, 978785428, 163677341, 276590098, 374787159,
	948709761, 80100956, 1082682476, 1003765604, 1243427070, 1447645967,
	200599677, 143244144, 1788215331, 837051536, 409875951, 355190910, 2058462609,
	2127735996, 243877847, 1869683330, 1336273608, 1444510476, 1318652553,
	1262088783, 324062450, 547639202, 1715708819, 1273555394, 1925544752,
	583514338, 425095546, 580853881, 851194519, 206008598, 1391748448, 1358404307,
];

let seed = 1;
const rng = mcg48271(seed);

for (const expect of seq) {
	const n = rng();
	seed = n;
	tsts(`mcg48271(${seed})`, () => {
		assert.equal(n, expect);
	});
}

const r2 = mcg48271();
for(let i=1;i<10000;i++) {
	r2();
}
tsts('mcg48271(1)[10000]',()=>{assert.equal(r2(),399268537);});

tsts.run();
