import { suite } from 'uvu';
import * as assert from 'uvu/assert';
import { MCG16807 } from '../../src/prng/lcg';

const tsts = suite('MCG16807');
//source: https://oeis.org/A096550/b096550.txt
const seq: number[] = [
	16807, 282475249, 1622650073, 984943658, 1144108930, 470211272, 101027544,
	1457850878, 1458777923, 2007237709, 823564440, 1115438165, 1784484492,
	74243042, 114807987, 1137522503, 1441282327, 16531729, 823378840, 143542612,
	896544303, 1474833169, 1264817709, 1998097157, 1817129560, 1131570933,
	197493099, 1404280278, 893351816, 1505795335, 1954899097, 1636807826,
	563613512, 101929267, 1580723810, 704877633, 1358580979, 1624379149,
	2128236579, 784558821, 530511967, 2110010672, 1551901393, 1617819336,
	1399125485, 156091745, 1356425228, 1899894091, 585640194, 937186357,
	1646035001, 1025921153, 510616708, 590357944, 771515668, 357571490,
	1044788124, 1927702196, 1952509530, 130060903, 1942727722, 1083454666,
	1108728549, 685118024, 2118797801, 1060806853, 571540977, 194847408,
	2035308228, 158374933, 1075260298, 824938981, 595028635, 1962408013,
	1137623865, 997389814, 2020739063, 107554536, 1635339425, 1654001669,
	1777724115, 269220094, 34075629, 1478446501, 1864546517, 1351934195,
	1581030105, 1557810404, 2146319451, 1908194298, 500782188, 657821123,
	753799505, 1102246882, 1269406752, 1816731566, 884936716, 1807130337,
	578354438, 892053144,
];

let seed = 1;
const rng = MCG16807(seed);

for (const expect of seq) {
	const n = rng();
	seed = n;
	tsts(`MCG16807(${seed})`, () => {
		assert.equal(n, expect);
	});
}

const r2 = MCG16807();
for(let i=1;i<9999;i++) {
	r2();
}
tsts('MCG16807(1)[9999]',()=>{assert.equal(r2(),1484786315);});

tsts.run();
