import { suite } from 'uvu';
import * as assert from 'uvu/assert';
import { mt19937 } from '../../src/prng/mersenneTwister';

const tsts = suite('mt19937');
//todo: find a testing source
const seq: number[] = [
	2325592414, 482149846, 4177211283, 3872387439, 1663027210, 
    2005191859, 666881213, 3289399202, 2514534568, 3882134983, 
    4129444750, 1642354536, 1534745662, 4071148575, 198677157, 
    743002443, 2133457855, 3498546871, 1282847148, 1855778934, 
    1746794402, 113539287, 2305954126, 1040181529, 2216204121, 
    2998363345, 3336770373, 1404944261, 817116335, 35608857,
	1460061465, 1820744284, 603529561, 1422465967, 1556312033, 
    766816387, 3357131723, 3490573827, 3235337964, 52407870, 
    1042471362, 3130565075, 2460558883, 939232996, 521766120, 
    2478207168, 4001831944, 2263897511, 3096833816, 297374608, 
    3536935794, 1930675369, 2991905288, 4055852935, 522109632, 
    3015713274, 4018234485, 3762736293, 3247666852, 3617420760,
    1809297248, 149536815, 3963470893, 3313530457, 895192011, 
    45775350, 4082603668, 2409209729, 521535020, 3404504820, 
    1234839900, 3475124443, 1588942415, 2438320887, 2043679553, 
    2402567319, 3202526626, 2428451331, 865105578, 338918227, 
    606286106, 1448841315, 2786591146, 3655102783, 1292226391, 
    3168715200, 1705186977, 2448402743, 4025613341, 949089373,
    2858817280, 4282645144, 1073860359, 1047981410, 3495718151, 
    3139321035, 1901922952, 2975170819, 3676352554, 3197530790,
];

const rng = mt19937();
let i = 0;

for (const expect of seq) {
	const act = rng();
	tsts(`mt19937(${i})`, () => {
		assert.equal(act, expect);
	});
	i++;
}

//Skip a head a few numbers :D
for(;i<999;i++) rng();
tsts(`mt19937c(1000)`, () => {
    assert.equal(rng(), 1746987133);
});



tsts.run();
